import Button from "@/components/atoms/button";
import LoginMyLibrary from "@/components/pages/my-library/LoginMyLibrary";
import { twJoin, twMerge } from "tailwind-merge";
import CaretLeft from "@/assets/icons/CaretLeft.svg";
import AlertTriangle from "@/assets/icons/alert-triangle.svg";
import YellowTriangle from "@/assets/icons/alert-triangle.svg";
import CheckCircle from "@/assets/icons/alert-triangle.svg";
import Chip from "@/components/atoms/chips";
import ProgressBar from "@/components/atoms/progressbar/ProgressBar";
import List from "@/components/atoms/list";
import VulnerabilityAnalysisCode from "@/components/pages/my-library/VulnerabilityAnalysisCode";
import InfoBox from "@/components/atoms/infobox/infobox";
import VulnerabilityAnalysisCodeStatus from "@/components/pages/my-library/VulnerabilityAnalysisCodeStatus";
import VulnerabilityAnalysisCodeContent from "@/components/pages/my-library/VulnerabilityAnalysisCodeContent";

const isLogin = true;
export type TAnlaysisCode = {
  type: string; //원본 파일, 분석 파일 분류
  content: string; //파일 내용
  status: string; // 분석중, 성공
};
const VulnerabilityAnalysis = ({ status }: TAnlaysisCode) => {
  return (
    <>
      <div className="mb-12 flex items-center justify-center">
        <Button
          rounded="md"
          variant="outline"
          className="w-full items-start justify-start"
        >
          <div className="flex items-center gap-6">
            <CaretLeft />
            <span className="title-md-medium">sfacweb - 1</span>
          </div>
        </Button>
      </div>
      <div className="mb-7 flex h-[107px] w-[1761px] gap-7">
        <Button rounded={"xs"} className="subtitle-md-bold flex w-[247px]">
          폴더 전체 검사
        </Button>
        <div className="flex-1 gap-5 rounded-lg border border-primary-300 p-5">
          <div className="mb-4 flex w-full">
            <Chip
              showLeftIcon={true}
              className="h-[35px] w-[221px] gap-7 rounded-lg"
              text="파일명"
            ></Chip>
          </div>

          <ProgressBar
            progress={60}
            className="after:bg-primary-puple-500"
          ></ProgressBar>
        </div>
      </div>
      <div className="-max mb-6 flex max-h-[1065px] w-[1761px] gap-7">
        <div className="gap-6">
          <div className="mb-6 flex h-[65px] w-[247px] gap-3 rounded-lg border p-5">
            <AlertTriangle className="h-[25px] w-[25px]" />
            <YellowTriangle className="h-[25px] w-[25px]" />
            <CheckCircle
              className="h-[25px] w-[25px]"
              width={"14px"}
              height={"14px"}
            />
          </div>
          <List className="mb-6"></List>
        </div>
        {/* 코드 */}
        <div className="flex w-full gap-7 rounded-lg">
          <VulnerabilityAnalysisCode></VulnerabilityAnalysisCode>
          <VulnerabilityAnalysisCode></VulnerabilityAnalysisCode>
        </div>
      </div>
      <div className="mb-6 flex max-h-[1157px] min-h-max w-[1761px] gap-7">
        <div className="gap-6">
          <Button rounded={"xs"} className="subtitle-md-bold flex w-[247px]">
            검사하기
          </Button>
        </div>
        {/* 코드 */}
        {status === "success" && (
          <div className="w-full gap-5 rounded-lg">
            <div className="subtitle-md-bold">수정된 코드</div>
            <div className="max-h-[287px] overflow-y-auto overflow-x-hidden">
              <InfoBox
                backgroundClass="bg-bg-red_light"
                className="mb-5"
              ></InfoBox>
            </div>
          </div>
        )}
      </div>
    </>
  );
};
export default VulnerabilityAnalysis;
